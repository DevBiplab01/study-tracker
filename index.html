<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Study Discipline Ultra</title>

<style>
*{
    box-sizing:border-box;
    font-family:'Segoe UI', sans-serif;
}

body{
    margin:0;
    padding:20px;
    min-height:100vh;
    background: linear-gradient(-45deg, #0f172a, #1e293b, #312e81, #0ea5e9);
    background-size:400% 400%;
    animation: gradientMove 10s ease infinite;
}

@keyframes gradientMove{
    0%{background-position:0% 50%;}
    50%{background-position:100% 50%;}
    100%{background-position:0% 50%;}
}

.container{
    max-width:1000px;
    margin:auto;
    padding:30px;
    border-radius:25px;
    backdrop-filter: blur(20px);
    background: rgba(255,255,255,0.1);
    border:1px solid rgba(255,255,255,0.2);
    box-shadow:0 20px 50px rgba(0,0,0,0.5);
    color:white;
}

h1{text-align:center;margin-bottom:10px;font-size:32px;}
.date{text-align:center;color:#ddd;margin-bottom:20px;}

.stats{
    display:flex;
    gap:15px;
    margin-bottom:25px;
}
.stat-box{
    flex:1;
    background:rgba(255,255,255,0.15);
    padding:18px;
    border-radius:18px;
    text-align:center;
    backdrop-filter: blur(10px);
}

.timer-display{
    text-align:center;
    font-size:48px;
    margin:20px 0;
    font-weight:bold;
    text-shadow:0 0 20px #22d3ee;
}

button{
    padding:10px 22px;
    border:none;
    border-radius:12px;
    cursor:pointer;
    font-weight:bold;
    margin:6px;
    transition:0.3s;
}

button:hover{
    transform:translateY(-3px);
    box-shadow:0 8px 20px rgba(0,0,0,0.4);
}

.pause-btn{
    background:linear-gradient(45deg,#facc15,#f97316);
    color:black;
}

.blue-btn{
    background:linear-gradient(45deg,#3b82f6,#06b6d4);
    color:white;
}

.red-btn{
    background:linear-gradient(45deg,#ef4444,#f43f5e);
    color:white;
}

.black-btn{
    background:linear-gradient(45deg,#111,#333);
    color:white;
}

.topic{
    background:rgba(255,255,255,0.1);
    padding:15px;
    border-radius:15px;
    margin-bottom:10px;
    display:flex;
    justify-content:space-between;
    cursor:pointer;
    transition:0.3s;
}
.topic:hover{
    background:rgba(255,255,255,0.2);
    transform:scale(1.03);
}
.topic.completed{
    background:linear-gradient(45deg,#22c55e,#16a34a);
}

.progress-container{
    height:20px;
    background:rgba(255,255,255,0.2);
    border-radius:20px;
    overflow:hidden;
}
.progress-bar{
    height:100%;
    width:0%;
    background:linear-gradient(90deg,#22d3ee,#3b82f6);
}

textarea{
    width:100%;
    height:90px;
    border-radius:12px;
    padding:12px;
    border:none;
    margin-top:8px;
}

.calendar{
    display:grid;
    grid-template-columns:repeat(7,1fr);
    gap:8px;
    margin-top:10px;
}
.day{
    padding:12px;
    text-align:center;
    border-radius:12px;
    background:rgba(255,255,255,0.15);
}
.day.done{background:linear-gradient(45deg,#22c55e,#16a34a);}
.day.today{border:2px solid #22d3ee;}
</style>
</head>

<body>

<div class="container">

<h1>üöÄ Study Discipline Ultra</h1>
<div class="date" id="todayDate"></div>

<div class="stats">
<div class="stat-box">üéØ Goal<br><b>3.5 Hours</b></div>
<div class="stat-box">‚è≥ Remaining<br><b id="remainingTime">03:30:00</b></div>
<div class="stat-box">üî• Streak<br><b id="streak">0</b></div>
</div>

<div class="timer-display" id="currentTimer">Select Topic</div>
<div style="text-align:center;">
<button class="pause-btn" onclick="pauseTimer()">Pause</button>
</div>

<div id="topics"></div>

<h3>üìä Today Progress</h3>
<div class="progress-container">
<div class="progress-bar" id="progressBar"></div>
</div>

<h3>üìù Notes</h3>
<textarea id="notes"></textarea>

<h3>‚ûï Add Custom Task</h3>
<input type="text" id="newTaskInput"
style="width:70%;padding:10px;border-radius:10px;border:none;">
<button class="blue-btn" onclick="addCustomTask()">Add Task</button>

<div style="margin-top:15px;">
<button class="red-btn" onclick="resetToday()">Reset</button>
<button class="black-btn" onclick="clearAll()">Clear All</button>
</div>

<h3 style="margin-top:20px;">üìÖ Monthly Progress</h3>
<div class="calendar" id="calendar"></div>

</div>

<script>
const originalTopics=[
{name:"MERN",time:3600},
{name:"DSA",time:3600},
{name:"English",time:1800},
{name:"Aptitude",time:1800},
{name:"SQL",time:900},
{name:"Core Java",time:900}
];

let topicsData=JSON.parse(localStorage.getItem("topicsData"))||JSON.parse(JSON.stringify(originalTopics));
let studiedToday=parseInt(localStorage.getItem("studiedToday"))||0;
let completedDays=JSON.parse(localStorage.getItem("completedDays"))||{};
let activeIndex=null;
let interval=null;
let totalGoal=3.5*3600;

function formatTime(sec){
let h=Math.floor(sec/3600);
let m=Math.floor((sec%3600)/60);
let s=sec%60;
return `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
}

function renderTopics(){
const container=document.getElementById("topics");
container.innerHTML="";
topicsData.forEach((t,i)=>{
let div=document.createElement("div");
div.className="topic";
if(t.time===0) div.classList.add("completed");
div.innerHTML=`<span>${t.name}</span><span>${formatTime(t.time)}</span>`;
div.onclick=()=>startTopic(i);
container.appendChild(div);
});
}

function startTopic(i){
if(activeIndex!==null && activeIndex!==i){
alert("Pause current topic first!");
return;
}
activeIndex=i;
document.getElementById("currentTimer").innerText=topicsData[i].name+" Running...";
interval=setInterval(()=>{
if(topicsData[i].time>0){
topicsData[i].time--;
studiedToday++;
updateProgress();
renderTopics();
}else{
clearInterval(interval);
activeIndex=null;
}
},1000);
}

function pauseTimer(){
clearInterval(interval);
activeIndex=null;
}

function updateProgress(){
let percent=(studiedToday/totalGoal)*100;
document.getElementById("progressBar").style.width=percent+"%";
document.getElementById("remainingTime").innerText=formatTime(totalGoal-studiedToday);
localStorage.setItem("topicsData",JSON.stringify(topicsData));
localStorage.setItem("studiedToday",studiedToday);
}

function renderCalendar(){
let cal=document.getElementById("calendar");
cal.innerHTML="";
let today=new Date().getDate();
for(let i=1;i<=30;i++){
let div=document.createElement("div");
div.className="day";
if(i===today) div.classList.add("today");
div.innerText=i;
cal.appendChild(div);
}
}

function addCustomTask(){
let val=document.getElementById("newTaskInput").value;
if(val.trim()==="") return;
topicsData.push({name:val,time:1800});
localStorage.setItem("topicsData",JSON.stringify(topicsData));
renderTopics();
document.getElementById("newTaskInput").value="";
}

function resetToday(){
topicsData=JSON.parse(JSON.stringify(originalTopics));
studiedToday=0;
localStorage.setItem("topicsData",JSON.stringify(topicsData));
localStorage.setItem("studiedToday",0);
renderTopics();
updateProgress();
}

function clearAll(){
localStorage.clear();
location.reload();
}

document.getElementById("todayDate").innerText=new Date().toDateString();
renderTopics();
renderCalendar();
updateProgress();
</script>

</body>
</html>

